<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cps.user.mapper.GoodsReturnApplyMapper">

    <resultMap type="GoodsReturnApply" id="GoodsReturnApplyResult">
            <result property="goodsReturnApplyId" column="goods_return_apply_id"/>
            <result property="orderId" column="order_id"/>
            <result property="returnType" column="return_type"/>
            <result property="returnReason" column="return_reason"/>
            <result property="returnMoneyAmount" column="return_money_amount"/>
            <result property="returnApproach" column="return_approach"/>
            <result property="additionalDesp" column="additional_desp"/>
            <result property="returnEvidence" column="return_evidence"/>
            <result property="auditStatus" column="audit_status"/>
            <result property="createDatetime" column="create_datetime"/>
    </resultMap>

    <sql id="selectGoodsReturnApplyVo">
        select goods_return_apply_id, order_id, return_type, return_reason, return_money_amount, return_approach, additional_desp, return_evidence, audit_status, create_datetime
        from goods_return_apply
    </sql>

    <select id="selectGoodsReturnApplyList" parameterType="GoodsReturnApply" resultMap="GoodsReturnApplyResult">
        <include refid="selectGoodsReturnApplyVo"/>
        <where>
                        <if test="orderId != null  and orderId != ''">
                            and order_id = #{orderId}
                        </if>
                        <if test="returnType != null  and returnType != ''">
                            and return_type = #{returnType}
                        </if>
                        <if test="returnReason != null  and returnReason != ''">
                            and return_reason = #{returnReason}
                        </if>
                        <if test="returnMoneyAmount != null ">
                            and return_money_amount = #{returnMoneyAmount}
                        </if>
                        <if test="returnApproach != null  and returnApproach != ''">
                            and return_approach = #{returnApproach}
                        </if>
                        <if test="additionalDesp != null  and additionalDesp != ''">
                            and additional_desp = #{additionalDesp}
                        </if>
                        <if test="returnEvidence != null  and returnEvidence != ''">
                            and return_evidence = #{returnEvidence}
                        </if>
                        <if test="auditStatus != null  and auditStatus != ''">
                            and audit_status = #{auditStatus}
                        </if>
                        <if test="createDatetime != null ">
                            and create_datetime = #{createDatetime}
                        </if>
        </where>
    </select>

    <select id="selectGoodsReturnApplyByGoodsReturnApplyId" parameterType="String"
            resultMap="GoodsReturnApplyResult">
            <include refid="selectGoodsReturnApplyVo"/>
            where goods_return_apply_id = #{goodsReturnApplyId}
    </select>

    <insert id="insertGoodsReturnApply" parameterType="GoodsReturnApply">
        insert into goods_return_apply
        <trim prefix="(" suffix=")" suffixOverrides=",">
                    <if test="goodsReturnApplyId != null">goods_return_apply_id,
                    </if>
                    <if test="orderId != null and orderId != ''">order_id,
                    </if>
                    <if test="returnType != null">return_type,
                    </if>
                    <if test="returnReason != null">return_reason,
                    </if>
                    <if test="returnMoneyAmount != null">return_money_amount,
                    </if>
                    <if test="returnApproach != null">return_approach,
                    </if>
                    <if test="additionalDesp != null">additional_desp,
                    </if>
                    <if test="returnEvidence != null">return_evidence,
                    </if>
                    <if test="auditStatus != null">audit_status,
                    </if>
                    <if test="createDatetime != null">create_datetime,
                    </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
                    <if test="goodsReturnApplyId != null">#{goodsReturnApplyId},
                    </if>
                    <if test="orderId != null and orderId != ''">#{orderId},
                    </if>
                    <if test="returnType != null">#{returnType},
                    </if>
                    <if test="returnReason != null">#{returnReason},
                    </if>
                    <if test="returnMoneyAmount != null">#{returnMoneyAmount},
                    </if>
                    <if test="returnApproach != null">#{returnApproach},
                    </if>
                    <if test="additionalDesp != null">#{additionalDesp},
                    </if>
                    <if test="returnEvidence != null">#{returnEvidence},
                    </if>
                    <if test="auditStatus != null">#{auditStatus},
                    </if>
                    <if test="createDatetime != null">#{createDatetime},
                    </if>
        </trim>
    </insert>

    <update id="updateGoodsReturnApply" parameterType="GoodsReturnApply">
        update goods_return_apply
        <trim prefix="SET" suffixOverrides=",">
                    <if test="orderId != null and orderId != ''">order_id =
                        #{orderId},
                    </if>
                    <if test="returnType != null">return_type =
                        #{returnType},
                    </if>
                    <if test="returnReason != null">return_reason =
                        #{returnReason},
                    </if>
                    <if test="returnMoneyAmount != null">return_money_amount =
                        #{returnMoneyAmount},
                    </if>
                    <if test="returnApproach != null">return_approach =
                        #{returnApproach},
                    </if>
                    <if test="additionalDesp != null">additional_desp =
                        #{additionalDesp},
                    </if>
                    <if test="returnEvidence != null">return_evidence =
                        #{returnEvidence},
                    </if>
                    <if test="auditStatus != null">audit_status =
                        #{auditStatus},
                    </if>
                    <if test="createDatetime != null">create_datetime =
                        #{createDatetime},
                    </if>
        </trim>
        where goods_return_apply_id = #{goodsReturnApplyId}
    </update>

    <delete id="deleteGoodsReturnApplyByGoodsReturnApplyId" parameterType="String">
        delete
        from goods_return_apply where goods_return_apply_id = #{goodsReturnApplyId}
    </delete>

    <delete id="deleteGoodsReturnApplyByGoodsReturnApplyIds" parameterType="String">
        delete from goods_return_apply where goods_return_apply_id in
        <foreach item="goodsReturnApplyId" collection="array" open="(" separator="," close=")">
            #{goodsReturnApplyId}
        </foreach>
    </delete>

</mapper>