<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('商品订单')" />
    <script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
    <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js" type="text/javascript"></script>
</head>
<body class="white-bg">
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div class="form-group">
    <div id="main" style="margin:auto; width: 800px;height:600px;"></div>
</div>

<th:block th:include="include :: footer" />
<th:block th:include="include :: echarts-js" />
<script th:inline="javascript">
    var prefix = ctx + "user/orders";
    var myChart = echarts.init(document.getElementById("main"));

    myChart.on("click",function (params) {
        console.log(params.name);
        $.modal.openTab("商品买家图", prefix+"/receiver/"+params.name);
    });
    var option = {
        tooltip: {
            show: true
        },
        legend: {
            data:["订单数"]
        },
        series : [
            {
                name:"订单数",
                type:"bar",
                data: Object.values([[${orderDict}]])
            }
        ],
        xAxis : [
            {
                data : Object.keys([[${orderDict}]]),
                type : 'category',
                axisLabel: {
                    interval: 0  //设置间隔为0
                }
            }
        ],
        yAxis : [
            {
                type : 'value'
            }
        ]
    };
    function showChart(){
        myChart.clear();
        myChart.setOption(option);
    }

    showChart();
</script>
</body>
</html>
