<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cps.cp.mapper.ProductSkuSeedMapper">

    <resultMap type="ProductSkuSeed" id="ProductSkuSeedResult">
            <result property="skuId" column="sku_id"/>
            <result property="productId" column="product_id"/>
            <result property="skuName" column="sku_name"/>
            <result property="untitled" column="untitled"/>
            <result property="goodsUnit" column="goods_unit"/>
            <result property="shopIndexName" column="shop_index_name"/>
            <result property="shopIndexRequire" column="shop_index_require"/>
            <result property="planNumber" column="plan_number"/>
            <result property="planPrice" column="plan_price"/>
    </resultMap>

    <sql id="selectProductSkuSeedVo">
        select sku_id, product_id, sku_name, untitled, goods_unit, shop_index_name, shop_index_require, plan_number, plan_price
        from product_sku_seed
    </sql>

    <select id="selectProductSkuSeedList" parameterType="ProductSkuSeed" resultMap="ProductSkuSeedResult">
        <include refid="selectProductSkuSeedVo"/>
        <where>
                        <if test="productId != null  and productId != ''">
                            and product_id = #{productId}
                        </if>
                        <if test="skuName != null  and skuName != ''">
                            and sku_name like concat('%', #{skuName}, '%')
                        </if>
                        <if test="untitled != null  and untitled != ''">
                            and untitled = #{untitled}
                        </if>
                        <if test="goodsUnit != null  and goodsUnit != ''">
                            and goods_unit = #{goodsUnit}
                        </if>
                        <if test="shopIndexName != null  and shopIndexName != ''">
                            and shop_index_name like concat('%', #{shopIndexName}, '%')
                        </if>
                        <if test="shopIndexRequire != null  and shopIndexRequire != ''">
                            and shop_index_require = #{shopIndexRequire}
                        </if>
                        <if test="planNumber != null ">
                            and plan_number = #{planNumber}
                        </if>
                        <if test="planPrice != null ">
                            and plan_price = #{planPrice}
                        </if>
        </where>
    </select>

    <select id="selectProductSkuSeedBySkuId" parameterType="String"
            resultMap="ProductSkuSeedResult">
            <include refid="selectProductSkuSeedVo"/>
            where sku_id = #{skuId}
    </select>

    <insert id="insertProductSkuSeed" parameterType="ProductSkuSeed">
        insert into product_sku_seed
        <trim prefix="(" suffix=")" suffixOverrides=",">
                    <if test="skuId != null">sku_id,
                    </if>
                    <if test="productId != null">product_id,
                    </if>
                    <if test="skuName != null">sku_name,
                    </if>
                    <if test="untitled != null">untitled,
                    </if>
                    <if test="goodsUnit != null">goods_unit,
                    </if>
                    <if test="shopIndexName != null">shop_index_name,
                    </if>
                    <if test="shopIndexRequire != null">shop_index_require,
                    </if>
                    <if test="planNumber != null">plan_number,
                    </if>
                    <if test="planPrice != null">plan_price,
                    </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
                    <if test="skuId != null">#{skuId},
                    </if>
                    <if test="productId != null">#{productId},
                    </if>
                    <if test="skuName != null">#{skuName},
                    </if>
                    <if test="untitled != null">#{untitled},
                    </if>
                    <if test="goodsUnit != null">#{goodsUnit},
                    </if>
                    <if test="shopIndexName != null">#{shopIndexName},
                    </if>
                    <if test="shopIndexRequire != null">#{shopIndexRequire},
                    </if>
                    <if test="planNumber != null">#{planNumber},
                    </if>
                    <if test="planPrice != null">#{planPrice},
                    </if>
        </trim>
    </insert>

    <update id="updateProductSkuSeed" parameterType="ProductSkuSeed">
        update product_sku_seed
        <trim prefix="SET" suffixOverrides=",">
                    <if test="productId != null">product_id =
                        #{productId},
                    </if>
                    <if test="skuName != null">sku_name =
                        #{skuName},
                    </if>
                    <if test="untitled != null">untitled =
                        #{untitled},
                    </if>
                    <if test="goodsUnit != null">goods_unit =
                        #{goodsUnit},
                    </if>
                    <if test="shopIndexName != null">shop_index_name =
                        #{shopIndexName},
                    </if>
                    <if test="shopIndexRequire != null">shop_index_require =
                        #{shopIndexRequire},
                    </if>
                    <if test="planNumber != null">plan_number =
                        #{planNumber},
                    </if>
                    <if test="planPrice != null">plan_price =
                        #{planPrice},
                    </if>
        </trim>
        where sku_id = #{skuId}
    </update>

    <delete id="deleteProductSkuSeedBySkuId" parameterType="String">
        delete
        from product_sku_seed where sku_id = #{skuId}
    </delete>

    <delete id="deleteProductSkuSeedBySkuIds" parameterType="String">
        delete from product_sku_seed where sku_id in
        <foreach item="skuId" collection="array" open="(" separator="," close=")">
            #{skuId}
        </foreach>
    </delete>

</mapper>